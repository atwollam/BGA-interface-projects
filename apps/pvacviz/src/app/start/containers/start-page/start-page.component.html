<div class="page-header">
  <div class="row">
    <div class="col-xs-8">
      <h3 class="page-title">
        Start Process
      </h3>
    </div>
  </div>
</div>
<form  [ngrxFormState]="formState$ | async" (submit)="onSubmit('submitted')">
  <section class="form-block">
    <label>Inputs, Alleles, and Algorithms</label>
    <div class="form-group row">
      <div class="col-xs-12 col-sm-3 col-form-label">
        <label for="samplename" class="required">Sample Name</label>
      </div>
      <div class="col-xs-12 col-sm-4">
        <input type="text" id="samplename" [ngrxFormControlState]="(formState$ | async).controls.samplename" size="32">
      </div>
      <div class="col-xs-12 col-sm-5 col-form-help">
        Name you wish to be associated with this process
      </div>
    </div>

    <div class="form-group row">
      <div class="col-xs-12 col-sm-3 col-form-label">
        <label for="samplename" class="required">Input VCF</label>
      </div>
      <div class="col-xs-12 col-sm-4">
        <ng-select
          [items]="inputs$ | async"
          bindLabel="display_name"
          bindValue="fileID"
          [searchable]="true"
          groupBy="directory"
          placeholder="Select Input VCF File"
          [ngrxFormControlState]="(formState$ | async).controls.input">
        </ng-select>
      </div>
      <div class="col-xs-12 col-sm-5 col-form-help">
        Input VCF File
      </div>
    </div>

    <div class="form-group row">
      <div class="col-xs-12 col-sm-3 col-form-label">
        <label for="prediction_algorithms" class="required">Prediction Algorithms</label>
      </div>
      <div class="col-xs-12 col-sm-4">
        <ng-select
          [items]="algorithms$ | async"
          [multiple]="true"
          bindLabel="name"
          bindValue="name"
          [searchable]="true"
          placeholder="Select Prediction Algorithms"
          [ngrxFormControlState]="(formState$ | async).controls.prediction_algorithms">
        </ng-select>
      </div>
      <div class="col-xs-12 col-sm-4 col-form-help">
        Comma-separated list of prediction algorithms to use
      </div>
    </div>

    <div class="form-group row">
      <div class="col-xs-12 col-sm-3 col-form-label">
        <label for="alleles" class="required">Alleles</label>
      </div>
      <div class="col-xs-12 col-sm-4">
        <ng-select
          [items]="alleles$ | async"
          [multiple]="true"
          bindLabel="name"
          bindValue="name"
          [searchable]="true"
          placeholder="Select Alleles"
          [ngrxFormControlState]="(formState$ | async).controls.alleles">
        </ng-select>
      </div>
      <div class="col-xs-12 col-sm-5 col-form-help">
        Comma-separated list of alleles to run the sequences against
      </div>
    </div>
  </section>

  <section class="form-block">
    <!-- button row goes here -->
  </section>
</form>
<div class="row">
  <div class="col-sm-6">
    <p>formState$.value:</p>
    <pre>
      {{ (formState$| async)?.value | json }}
    </pre>
  </div>
  <div class="col-sm-6">
    <p>inputs$:</p>
    <pre>
      {{ (algorithms$| async) | json }}
    </pre>
  </div>
</div>
